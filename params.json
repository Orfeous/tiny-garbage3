{"name":"Tiny-garbage3","tagline":"A tiny FTP crawler and indexer with a web UI, based on Redis and designed for performance","body":"Tiny-Garbage3\r\n=============\r\n\r\nJust a little FTP crawler, with a Sinatra based search interface in order to browse the FTP index.\r\nNothing else, nothing more.\r\n\r\nRelationship with the original Tiny-Garbage project(s)\r\n------------------------------------------------------\r\n\r\nTiny-Garbage3 is designed to be the next version of the originals [`Tiny-Garbage2`](http://github.com/kisscool/tiny-garbage2) and [`Tiny-Garbage`](http://github.com/kisscool/tiny-garbage) projects. Those are kepts as different projects, because each major version is a total re-design with different dependencies and goals, that may not be of interest for everybody.\r\n\r\n* Tiny-Garbage is designed around a relational database (sqlite, mysql...) and is well suited for indexing little networks\r\n* Tiny-Garbage2 is designed around a non-relational database (MongoDB) and is able to scale to the indexing of several hundred of thousands of files and directories without major performances penalties\r\n* Tiny-Garbage3 is designed around the non-relational in-memory database [`Redis`](http://redis.io) and is able to index easily several millions of files and directories.\r\n\r\nAdditionaly, Tiny-Garbage3 provides the following changes :\r\n\r\n* Lot of bugfixes\r\n* A better strategy for index versioning\r\n* Less dependencies\r\n* Less administration overhead\r\n* A more robust infrastructure\r\n* A blazingly fast new inverted index search system\r\n\r\nFor this version, we have been heavily inspired by some axioms of the UNIX philosphy : \"When in doubt, use bruteforce\" and \"smart data structures, simple algorithms\".\r\n\r\nQuick start\r\n-----------\r\n\r\nThis is how to bootstrap Tiny-Garbage3 if you are in a real hurry (sh compatible syntax as root, quick and dirty configuration) :\r\n\r\n\tpkg_add -r ruby redis ruby18-gems ruby18-iconv git\r\n\techo 'redis_enable=\"YES\"' >> /etc/rc.conf\r\n\t/usr/local/etc/rc.d/redis start\r\n\tgem install bundler\r\n\texport tinyroot=/usr/local\r\n\tgit clone http://github.com/kisscool/tiny-garbage3.git $tinyroot/tiny-garbage3\r\n\tcd $tinyroot/tiny-garbage3\r\n\tbundle install --path vendor\r\n\tcp config.rb.sample config.rb\r\n\techo \"You must edit config.rb in order to configure Tiny-Garbage3\"\r\n\techo \"30 * * * * root $tinyroot/tiny-garbage3/scripts/crawler.rb ping\" >> /etc/crontab\r\n\techo \"0 2 * * * root $tinyroot/tiny-garbage3/scripts/crawler.rb index\" >> /etc/crontab\r\n\r\nRead below for explanations.\r\n\r\nDependencies\r\n------------\r\n\r\nThis software assumes you have already setup a Redis database (the default configuration works out of the box) and that ruby and iconv are available.\r\n\r\nRequired gems are :\r\n\r\n* redis\r\n* sinatra\r\n* haml\r\n* sass\r\n* net-ftp-list\r\n* Rack\r\n\r\nIf you have Bundler installed on your system, you can track down all those dependencies by launching the following command from inside the project directory :\r\n\r\n\t$ bundle install --path vendor\r\n\r\nInstall\r\n-------\r\n\r\n### The crawler part\r\n\r\nDo a clone of the project git repository, install the missing dependencies then create the configuration file by copying config.rb.sample as config.rb and edit it to suit your taste.\r\n\r\nConfigure your crontab to launch periodically the following commands :\r\n\r\n* \"$path_to_project/scripts/crawler.rb ping\" (with a recommenced frequency of every 10 minutes)\r\n* \"$path_to_project/scripts/crawler.rb index\" (with a recommended frequency of once a day)\r\n\r\n\r\n### The Web UI part\r\n\r\nFor a first try you can just launch \"rackup config.ru\" (or \"bundle exec rackup\" if you are using Bundler) in order to test the web UI with the pure ruby Webrick server.\r\nIf you want to deploy it in production, you will need to check Unicorn, Thin or Phusion Passenger documentations for more solids options.\r\n\r\n### Memory requirements\r\n\r\nRedis is a in-memory datastore with persistence on disk. If you don't have enough memory for your needs, you can enable the VM options to use your disk instead. Do it at your own risk as the Redis documentation warns that the use of this feature is discouraged.\r\nYou will need around 1.4GB of memory for the storage of 600 000 entries (each file or directory is an individual entry in the database) on a 64bit system.\r\n\r\nScreenshots\r\n-----------\r\n\r\nHere are some screenshots from a Tiny-Garbage3 deployment transmitted to us by some of our friendly users.\r\n\r\n![Search](https://github.com/downloads/kisscool/tiny-garbage2/garbage_1.png)\r\n![Listing](https://github.com/downloads/kisscool/tiny-garbage2/garbage_2.png)\r\n\r\n\r\nThanks\r\n------\r\n\r\nThanks to Loic Gomez for the first Garbage Collector, which was so useful back in the days, and thanks to Zouchaoqun's [`ezFtpSearch`](http://github.com/zouchaoqun/ezftpsearch) whose model bootstrapped our early work.\r\n\r\n","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}